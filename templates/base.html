<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{% block title %}Dev Beto{% endblock %}</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      rel="icon"
      type="image/png"
      href="{{ url_for('static', filename='files/favicon.ico') }}"
    />

    <!-- Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />

    <!-- Icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Your site styles (already added earlier) -->
    <link href="/static/css/index.css" rel="stylesheet" />

    <!-- Nav/Footer enhancement styles -->
    <style>
      /* ===========================
         NAVBAR (glass + aurora)
         =========================== */
      .site-header {
        position: sticky;
        top: 0;
        z-index: 1050;
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        background: radial-gradient(
            60% 120% at 80% -40%,
            rgba(124, 92, 255, 0.18),
            transparent 60%
          ),
          radial-gradient(
            60% 120% at 0% -40%,
            rgba(0, 209, 255, 0.14),
            transparent 60%
          ),
          rgba(16, 18, 24, 0.72);
        transition: box-shadow 300ms ease, border-color 300ms ease,
          background-color 300ms ease;
      }
      .site-header.is-scrolled {
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        border-color: rgba(255, 255, 255, 0.12);
        background: radial-gradient(
            60% 120% at 80% -40%,
            rgba(124, 92, 255, 0.12),
            transparent 60%
          ),
          radial-gradient(
            60% 120% at 0% -40%,
            rgba(0, 209, 255, 0.1),
            transparent 60%
          ),
          rgba(16, 18, 24, 0.86);
      }

      .navbar {
        height: 5rem;
      }
      .navbar .container-fluid {
        width: min(100%, calc(1200px + 2rem));
        padding-inline: clamp(1rem, 4vw, 2rem);
      }

      .navbar-brand {
        display: inline-flex;
        align-items: center;
        gap: 0.6rem;
        font-weight: 800;
        letter-spacing: 0.2px;
        color: var(--text);
        text-decoration: none;
      }
      .navbar-brand i {
        color: var(--brand-2);
        filter: drop-shadow(0 6px 14px rgba(0, 209, 255, 0.35));
      }

      .navbar-toggler {
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: var(--text);
        padding: 0.45rem 0.7rem;
        border-radius: 12px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.06),
          rgba(255, 255, 255, 0.02)
        );
      }
      .navbar-toggler:focus {
        box-shadow: none;
      }

      .navbar-collapse {
        transition: transform 260ms ease;
      }

      .navbar-nav {
        gap: clamp(0.25rem, 2vw, 0.75rem);
      }

      .nav-link {
        position: relative;
        color: var(--muted);
        font-weight: 600;
        border-radius: 12px;
        padding: 0.55rem 0.9rem !important;
        transition: color 200ms ease, background 200ms ease,
          transform 200ms ease;
      }
      .nav-link:hover {
        color: var(--text);
        background: rgba(255, 255, 255, 0.04);
        transform: translateY(-1px);
      }
      .nav-link.active,
      .nav-link[aria-current="page"] {
        color: white;
        background: linear-gradient(
          135deg,
          rgba(124, 92, 255, 0.2),
          rgba(0, 209, 255, 0.18)
        );
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      /* Mobile menu surface */
      @media (max-width: 991.98px) {
        .site-header .navbar-collapse {
          background: radial-gradient(
              60% 100% at 100% 0%,
              rgba(124, 92, 255, 0.18),
              transparent
            ),
            radial-gradient(
              60% 100% at 0% 0%,
              rgba(0, 209, 255, 0.12),
              transparent
            ),
            rgba(16, 18, 24, 0.92);
          border-top: 1px solid rgba(255, 255, 255, 0.08);
          margin-inline: -1rem;
          margin-top: 0.6rem;
          padding: 0.8rem 1rem;
          border-radius: 14px;
        }
        .navbar-nav {
          padding: 0.25rem 0;
        }
      }

      /* ===========================
         FOOTER (elevated panel)
         =========================== */
      .site-footer {
        margin-top: 3rem;
        padding: clamp(2rem, 6vw, 3rem) 0;
        background: radial-gradient(
            60% 120% at 80% -40%,
            rgba(124, 92, 255, 0.08),
            transparent 60%
          ),
          radial-gradient(
            60% 120% at 0% -40%,
            rgba(0, 209, 255, 0.06),
            transparent 60%
          ),
          linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.02),
            rgba(255, 255, 255, 0)
          );
        border-top: 1px solid rgba(255, 255, 255, 0.08);
      }
      .footer-inner {
        width: min(100%, calc(1200px + 2rem));
        padding-inline: clamp(1rem, 4vw, 2rem);
        margin-inline: auto;
      }
      .footer-brand {
        display: inline-flex;
        align-items: center;
        gap: 0.55rem;
        color: var(--text);
        font-weight: 800;
        text-decoration: none;
      }
      .footer-brand i {
        color: var(--brand-2);
      }
      .footer-copy {
        color: var(--muted);
        margin: 0.4rem 0 0;
      }

      .socials {
        display: inline-flex;
        gap: 0.8rem;
      }
      .socials a {
        display: grid;
        place-items: center;
        height: 40px;
        width: 40px;
        color: var(--text);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.05),
          rgba(255, 255, 255, 0.02)
        );
        text-decoration: none;
        transition: transform 180ms ease, box-shadow 180ms ease,
          background 180ms ease;
      }
      .socials a:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.28);
        background: linear-gradient(
          135deg,
          rgba(124, 92, 255, 0.18),
          rgba(0, 209, 255, 0.14)
        );
      }

      /* ===========================
         PAGE SCAFFOLD
         =========================== */
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-attachment: fixed;
      }
      main {
        flex: 1;
      }
    </style>
  </head>

  <body>
    <!-- Scroll Progress Bar -->
    <div id="scroll-progress" aria-hidden="true"></div>

    <!-- HEADER / NAV -->
    <header class="site-header">
      <nav class="navbar navbar-expand-lg" aria-label="Main navigation">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">
            <i class="fa-brands fa-connectdevelop"></i>
            <span>Dev Beto</span>
          </a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="fa-solid fa-bars"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-lg-center">
              <!-- Add Projects later if you want -->
              <!-- <li class="nav-item"><a class="nav-link" href="/projects">Projects</a></li> -->

              <!-- 
              <li class="nav-item">
                <a class="nav-link" href="/finance">Finance</a>
              </li>
              -->

              <li class="nav-item">
                <a class="nav-link" href="/resume">Resume</a>
              </li>
              <li class="nav-item ms-lg-1">
                <a
                  class="nav-link btn btn-primary"
                  href="/contact"
                  style="padding: 0.55rem 1rem"
                  >Contact</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- MAIN -->
    <main role="main" id="main-content">{% block content %}{% endblock %}</main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="footer-inner">
        <div class="row align-items-center gy-3">
          <div class="col-12 col-md-6 text-center text-md-start">
            <a class="footer-brand" href="/">
              <i class="fa-brands fa-connectdevelop"></i>
              <span>Dev Beto</span>
            </a>
            <p class="footer-copy mb-0">
              &copy; {{ 2025 if false else 2024 }} Alberto Valtierra Jr. All
              rights reserved.
            </p>
          </div>
          <div
            class="col-12 col-md-6 d-flex justify-content-center justify-content-md-end"
          >
            <div class="socials">
              <!-- Update these hrefs to your real profiles -->
              <a
                href="https://linkedin.com/in/yourprofile"
                target="_blank"
                aria-label="LinkedIn"
              >
                <i class="fab fa-linkedin-in"></i>
              </a>
              <a
                href="https://github.com/yourprofile"
                target="_blank"
                aria-label="GitHub"
              >
                <i class="fab fa-github"></i>
              </a>
              <a href="mailto:youremail@example.com" aria-label="Email">
                <i class="fas fa-envelope"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- JS: Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>

    <!-- Optional: active link + scroll shadow -->
    <script>
      // Add 'active' class based on current path
      (function () {
        const path = window.location.pathname.replace(/\/+$/, "") || "/";
        document.querySelectorAll(".nav-link").forEach((link) => {
          const href = link.getAttribute("href");
          if (!href) return;
          const norm = href.replace(/\/+$/, "") || "/";
          if (norm === path) link.classList.add("active");
        });
      })();

      // Header shadow on scroll
      (function () {
        const header = document.querySelector(".site-header");
        const onScroll = () => {
          if (window.scrollY > 8) header.classList.add("is-scrolled");
          else header.classList.remove("is-scrolled");
        };
        onScroll();
        window.addEventListener("scroll", onScroll, { passive: true });
      })();
    </script>

    <!-- IMPORTANT: Avoid exposing API keys on the client.
         If you keep EmailJS, move keys to server or a secure config. -->
    {#
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
      (function () {
        emailjs.init("PUBLIC_KEY");
      })();
    </script>
    #}

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
